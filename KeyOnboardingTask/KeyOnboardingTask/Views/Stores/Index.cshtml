@model IEnumerable<KeyOnboardingTask.Store>

@{
    ViewBag.Title = "Store Details";
}

<h2>Store Details</h2>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<script src="~/Scripts/bootstrap.min.js"></script>

<p>
    <a id="btnCreate" href="#myModal" data-toggle="modal" class="btn btn-primary">Add New Store</a>
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Address)
        </th>
        <th>Action(Edit)</th>
        <th>Action(Delete)</th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Address)
        </td>
        
            @*@Html.ActionLink("Edit", "Edit", new { id=item.Id }) |
            @Html.ActionLink("Details", "Details", new { id=item.Id }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.Id })*@

        <td> <a class="btnEdit btn btn-warning" data-id="@item.Id"><i class="glyphicon glyphicon-edit"> Edit</i></a></td>

        <td> <a class="btnDelete btn btn-danger" data-id="@item.Id"><i class="glyphicon glyphicon-trash"> Delete</i></a></td>

       
    </tr>
}

</table>

<div id="myModal" class="modal fade" role="dialog" tabindex="-1" aria-labelledby="myLargeModalLabel">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-body">
                <div id="modal-content">


                </div>
            </div>
        </div>
    </div>
</div>


@section scripts{
    <script>
       // $(document).ready(function () {
        $("#btnCreate").click(function (event) {
            $("#myModal").modal();
            $("#modal-content").load("/Stores/Create");
        })

        //$("#btnEdit").click(function (event) {
        //    $("#myModal").modal();
        //    $("#modal-content").load("/Customers/Edit/" + $(this).data("id"));
        //});

        //$("#btnDelete").click(function (event) {
        //    debugger
        //    $("#myModal").modal();
        //    $("#modal-content").load("/Customers/Delete/" + $(this).data("id"));
        //});

        $(document).ready(function () {
            $('.btnEdit').click(function () {
                debugger
                var id = $(this).attr('data-id');
                $("#myModal").modal();
                $("#modal-content").load("/Stores/Edit/" + $(this).data("id"));
            });

            $('.btnDelete').click(function () {
                debugger
                var id = $(this).attr('data-id');
                $("#myModal").modal();
                $("#modal-content").load("/Stores/Delete/" + $(this).data("id"));
            });
        });

    </script>
}
